<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>Bundle Page Generator</title>

	<script src="./scripts/bundle-page-generator.js" type="module"></script>
	<script src="/scripts/pageinfo.js" type="module"></script>

	<link rel="stylesheet" href="./styles/styles.css" />
	<style>
		#cosmetics-section { margin-top: 8px; }
		#button-controls { margin-bottom: 6px; }
		#button-controls button { padding: 0.25rem 0.5rem; }

		#cosmetics-list.scrollbox { max-height: 400px; overflow-y: auto; padding: 0px 8px; }
		#jam-tracks-list.scrollbox { max-height: 200px; overflow-y: auto; padding: 0px 8px; }
		#banners-list.scrollbox { max-height: 200px; overflow-y: auto; padding: 0px 8px; }

		.cosmetic-entry { position: relative; }
		.cosmetic-entry input[type="text"] { width: 100%; padding: 6px; box-sizing: border-box; }
		.cosmetic-entry .suggestions { position: relative; margin-top: 4px; max-height: 160px; overflow-y: auto; }
		.cosmetic-entry .suggestions div { padding: 6px; cursor: pointer; }

		.jam-track-entry { position: relative; }
		.jam-track-entry input[type="text"] { width: 100%; padding: 6px; box-sizing: border-box; }
		.jam-track-entry .suggestions { position: relative; margin-top: 4px; max-height: 120px; overflow-y: auto; }
		.jam-track-entry .suggestions div { padding: 6px; cursor: pointer; }

		.banner-entry { position: relative; }
		.banner-entry input[type="text"] { padding: 6px; box-sizing: border-box; }
		.banner-entry .suggestions { position: relative; margin-top: 4px; max-height: 120px; overflow-y: auto; }
		.banner-entry .suggestions div { padding: 6px; cursor: pointer; }
	</style>
	<link rel="icon" href="/files/images/return-icon.png" />
</head>

<body>
	<header>
		<a href="/index.html" id="return-main">
			<span>
				<img src="/files/images/return-icon.png" alt="back" />
			</span>
		</a>
		<img src="/files/images/tool-icons/bundle-page-generator.png" alt="logo" />
		<span>
			<h1 class="name">Bundle Page Generator</h1>
			<span class="version"></span>
		</span>
	</header>

	<div id="wrapper">
		<main>
			<section>
				<h3>Bundle Search</h3>
				<input type="text" id="bundle-display" placeholder="Enter bundle ID or Name" autocomplete="off" />
				<input type="hidden" id="bundle-input" />
				<input type="hidden" id="bundle-input-name" />
				<div id="suggestions"></div>
			</section>
			
			<section>
				<h4>Cosmetics</h4>
				<div id="cosmetics-section">
					<div id="button-controls">
						<button id="add-cosmetic" class="sec-subm">add</button>
						<button id="remove-cosmetic" class="sec-subm secondary">remove</button>
					</div>
					<div id="cosmetics-list" class="scrollbox">
						<!-- Cosmetic entries appended here -->
					</div>
					<div id="button-controls">
						<button id="add-jam-track" class="sec-subm">add jam track</button>
						<button id="remove-jam-track" class="sec-subm secondary">remove jam track</button>
					</div>
					<div id="jam-tracks-list" class="scrollbox">
						<!-- Jam track entries appended here -->
					</div>
					<div id="button-controls">
						<button id="add-banner" class="sec-subm">add banner</button>
						<button id="remove-banner" class="sec-subm secondary">remove banner</button>
					</div>
					<div id="banners-list" class="scrollbox">
						<!-- Banner entries appended here -->
					</div>
				</div>
			</section>

			<section>
				<div class="two-column-layout" style="margin-top: 0rem">
					<div class="column">
						<h4>Bundle settings</h4>
						<div class="inline-group">
							<label for="vbucks-cost">V-Bucks Cost:</label>
							<input type="text" id="vbucks-cost" placeholder="1,200"/>
						</div>
						<div class="inline-group">
							<label class="checkbox-label">
								<input type="checkbox" id="include-appearances">
								Include ItemShopAppearances
							</label>
						</div>
						<div class="inline-group appearances-fields" style="display: none;">
							<input type="text" id="shop-appearances" />
						</div>
						<div class="inline-group">
							<label class="checkbox-label">
								<input type="checkbox" id="collaboration" name="source">
								Collaboration?
							</label>
						</div>
					</div>
					<div class="column">
						<h4>Release status</h4>
						<div class="inline-group">
							<label for="released-switch">Released?</label>
							<div class="switch-container">
								<label class="switch">
									<input type="checkbox" id="released-switch">
									<span class="slider"></span>
								</label>
								<span id="released-label">No</span>
							</div>
						</div>
						
						<div class="inline-group released-fields" style="display: none;">
							<label for="release-date">Release date:</label>
							<input type="date" id="release-date" />
						</div>
						
						<div class="inline-group released-fields" style="display: none;">
							<label class="checkbox-label">
								<input type="checkbox" id="item-shop-history">
								Item Shop History link
							</label>
							<input type="number" id="shop-history-part" placeholder="Part" min="1" max="4" style="display: none; width: 80px;">
						</div>

						<div class="inline-group">
							<label for="update-version">Update Version:</label>
							<input type="text" id="update-version" placeholder="37.50" pattern="[0-9]+\.[0-9]+" required>
						</div>
					</div>
					<div class="column">
						<h4>Other</h4>
						<div class="inline-group">
							<label class="checkbox-label">
								<input type="checkbox" id="force-title-case">
								Force bundle name to be title case?
							</label>
						</div>
						<div class="inline-group">
							<label class="checkbox-label">
								<input type="checkbox" id="display-title" name="source">
								<b>Add display title?</b>
							</label>
						</div>
					</div>
				</div>
			</section>

			<button class="sec-subm" id="generate-btn">Generate Page</button>
			<div id="status" class="status hidden"></div>
		</main>
    
		<aside>
			<section>
				<div class="title-box">
					<h3>Generated Page:</h3>
				</div>
				<textarea id="output" readonly placeholder="Generated MediaWiki page content will appear here..."></textarea>
				<button class="sec-subm" id="copy-btn" disabled>Copy to Clipboard</button>
				<button class="sec-subm secondary" id="clear-btn">Clear</button>
			</section>
		</aside>
	</div>
</body>
</html>